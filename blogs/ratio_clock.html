<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <link rel="alternate" type="application/rss+xml" title="Tom Probyn's Personal Site" href="https://www.tomprobyn.uk/blogs/feed.xml">
  <link rel="alternate" type="application/rss+xml" title="Tom Probyn's Notes" href="https://www.tomprobyn.uk/notes/feed.xml">
  <link rel="me" href="https://mastodon.scot/@tomprobyn">
  <title>The simplified ratio clock: A ridiculous mathematical timepiece | Tom Probyn's Personal Site</title>
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    /* The extra [class] is a hack that increases specificity enough to
       override a similar rule in reveal.js */
    ul.task-list[class]{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      font-size: inherit;
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <link rel="stylesheet" href="https://tomprobyn.uk/styles.css" />
</head>
<body>
<header id="title-block-header">
  <a class="skiplink" href="#maincontent">Skip to main content</a>
<nav>
  <a href="https://tomprobyn.uk/">home</a>
  <a href="https://tomprobyn.uk/me">/me</a>
  <a href="https://tomprobyn.uk/now">/now</a>
  <a href="https://tomprobyn.uk/contact">/contact</a>
  <a href="https://tomprobyn.uk/everything">/everything</a>
</nav>
<h1 class="title" id="maincontent">The simplified ratio clock: A
ridiculous mathematical timepiece</h1>
<p class="date">17th August 2024</p>
</header>
<p><a href="../projects/ratio_clock/app.html">See the clock</a></p>
<p>Between this and <a
href="https://www.tomprobyn.uk/blogs/projects/time_signal.html">the
pips</a> I seem to have developed a bit of a penchant for the unusual
timepiece. I had a very weird idea on a car journey recently, staring
absent-mindedly at the digital clock on the dashboard (I should clarify
- I wasn’t driving!). We represent digital time in a similar way to how
we represent ratios (in the format a:b), so what would happen if we
treated it the same, and simplified those ratios? That lead me to
develop the most ridiculous (and patently useless) timepiece yet.</p>
<p>The ratio clock does just that. It takes the time, sees if it can be
simplified as a ratio, and if it can be, presents it that way! It’s
useless, of course, because multiple different times will all show as
the same thing (1:01, 2:02, 3:03 etc will all show as 1:1), but that
doesn’t stop it being fun.</p>
<p><em>NB:</em> If the clock just appears to show the normal time, then
it isn’t broken, it’s just that the ratio is already as simple as it can
be (19:07 for instance would just show as 19:07 as both of the numbers
are prime).</p>
<p><a href="./projects/ratio_clock/app.html">See the clock</a></p>
<h3 id="maths">Maths</h3>
<p>The maths here is very simple: take the minute and the hour, and
check what the largest number they both divide by is. Then divide them
both by that. I’m no good at maths, so I let Euclid take the driving
seat for this part and used one of the best known algorithms for this
purpose. It is extremely simple, efficient enough for my purposes, and
best of all it is license-free and <a
href="https://en.wikipedia.org/wiki/Euclidean_algorithm">available on
Wikipedia!</a>. It uses recursion and modulo to repeatedly test
divisions - any more detail on it and my head will explode…</p>
<h3 id="accessibility">Accessibility</h3>
<p>This one is a little more in my ballpark - and indeed it was my first
thought when making this project. Firstly, it uses JavaScript. I try to
avoid Javascript - mainly because I use <a
href="https://lynx.invisible-island.net/">Lynx</a> a lot which outright
doesn’t support it, but also because for folks using screen readers, it
can cause a bit of a problem, or so I thought. Screen readers, which are
assistive technologies that read the text of web pages aloud to users
who can’t use their eyes to read them for any reason, generally work by
starting at the top and reading the web site downwards - then they stop.
If part of the document updates <em>after</em> the reader has reached
the end, the user doesn’t hear it get read out. This would spoil the
joys of such a ridiculous project for users who couldn’t see it, because
they would only hear the current time get read out once, not every
subsequent minute.</p>
<p>It turns out, though, that there is a solution to this problem: the
<a
href="https://developer.mozilla.org/en-US/docs/Web/Accessibility/ARIA/ARIA_Live_Regions">ARIA-Live</a>
attribute allows developers using JavaScript to dynamically update a
page to inform the screen reader whenever an update occurs. The screen
reader then announces the new text to the user. In theory, this solves
the problem, and allows users of screen readers to experience the page
like virtually anyone else. Given how strong my views on digital
accessibility are, this pleases me immensely.</p>
<p><a href="./app.html">See the clock</a></p>
<hr>
<p>Tagged as: 
<a class="tag" href="https://tomprobyn.uk/tags/programming">programming</a>
<a class="tag" href="https://tomprobyn.uk/tags/web-toys">web-toys</a>
<a class="tag" href="https://tomprobyn.uk/tags/ideas">ideas</a>
</p>
<footer>
  <p>Contents © Tom Probyn 2025. <a href="https://tomprobyn.uk/licenses">Licenses</a>. <a href="https://docs.github.com/en/site-policy/privacy-policies/github-general-privacy-statement">Site Host's Privacy Policy</a></p>
</footer>
</body>
</html>
